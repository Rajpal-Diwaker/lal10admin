<app-sidebar></app-sidebar>
<div id="right-panel" class="right-panel">
  <app-header></app-header>
  <div class="content">
    <form [formGroup]="artisanGrp" (ngSubmit)="submit(artisanGrp.value)">
      <h3 class="title">Website Order</h3>
      <div class="row">
        <div class="col-md-6">
          <div class="file is-boxed">
            <label class="file-label" hidden>
              <input class="file-input" (change)="fileUpload($event, 'kycImage')" type="file" accept="image/*"
                name="resume">
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fa fa-upload"></i>
                </span>
                <span class="file-label">
                  Image
                </span>
              </span>
            </label>
            <figure *ngIf="previewObj['kycImage']" class="image is-128x128">
              <img (click)="showImage(previewObj['kycImage'])" src="{{previewObj['kycImage']}}">
            </figure>
          </div>
        </div>
        <div class="col-md-6" hidden>
          <div class="file is-boxed">
            <label class="file-label">
              <input class="file-input" (change)="fileUpload($event, 'artisanImage')" type="file" name="resume"
                accept="image/*">
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fa fa-upload"></i>
                </span>
                <span class="file-label">
                  Artisan Image
                </span>
              </span>
            </label>
            <figure *ngIf="previewObj['artisanImage']" class="image is-128x128">
              <img (click)="showImage(previewObj['artisanImage'])" src="{{previewObj['artisanImage']}}">
            </figure>
          </div>
        </div>
      </div>
      <div class="row input_form_wrap">
        <div class="field col-sm-6">
          <div class="field col-sm-12">
            <label class="label">Order by</label>
            <div class="control">
              <input class="input" type="text" placeholder="userName" formControlName="userName">
              <div *ngIf="f.userName.errors && f.userName.touched" class="invalid">
                <div *ngIf="f.userName.errors.required">
                  <p style="color: red;">Required</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field col-sm-12">
            <label class="label">Product Name</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input " type="text" placeholder="productName" value="" formControlName="productName">
              <div *ngIf="f.productName.errors && f.productName.touched" class="invalid">
                <div *ngIf="f.productName.errors.required">
                  <p style="color: red;">Required</p>
                </div>
                <div *ngIf="f.productName.errors.productName">
                  <p style="color: red;">Invalid productName</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field col-sm-12">
            <label class="label">QTY</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input is-success" type="text" placeholder="qty" formControlName="qty">
              <div *ngIf="f.qty.errors && f.qty.touched" class="invalid">
                <div *ngIf="f.qty.errors.required">
                  <p style="color: red;">qty is required</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field col-sm-12">
            <label class="label">Amount</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input is-success" type="text" placeholder="Amount" formControlName="expPrice">
              <div *ngIf="f.expPrice.errors && f.expPrice.touched" class="invalid">
                <div *ngIf="f.expPrice.errors.required">
                  <p style="color: red;">Required</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field col-sm-12">
            <label class="label">Payment</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input is-success" type="text" placeholder="expPrice" formControlName="expPrice">
              <div *ngIf="f.expPrice.errors && f.expPrice.touched" class="invalid">
                <div *ngIf="f.expPrice.errors.required">
                  <p style="color: red;">expPrice is required</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field col-sm-12">
            <label class="label">Transaction Number</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input is-success" type="text" placeholder="expPrice" formControlName="expPrice">
              <div *ngIf="f.expPrice.errors && f.expPrice.touched" class="invalid">
                <div *ngIf="f.expPrice.errors.required">
                  <p style="color: red;">expPrice is required</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field col-sm-12">
            <label class="label">Update Status</label>
            <div class="control has-icons-left has-icons-right">
              <!-- <input class="input is-success"  type="text" placeholder="expPrice" formControlName="expPrice"> -->
              <div class="select">
                <select formControlName="update_status">
                  <option value=''>Select status</option>
                  <option value="Order forwarded to artisan">Order forwarded to artisan</option>
                  <!-- <option value="enquiry converted to order">ORder converted to order</option> -->
                  <option value="Order Confirmed">Order Confirmed</option>
                  <option value="Order Dispatch">Order Dispatch</option>
                  <option value="Order Delivered">Order Delivered</option>
                </select>
              </div>
              <div *ngIf="f.update_status.errors && f.update_status.touched" class="invalid">
                <div *ngIf="f.update_status.errors.required">
                  <p style="color: red;">Required</p>
                </div>
              </div>
            </div>
          </div>
          <div class="field is-grouped col-sm-12">
            <div class="control">
              <button type="submit" class="button is-link">Submit</button>
            </div>
            <div class="control">
              <button class="button is-link is-light" [routerLink]="'/websiteOrders'">Cancel</button>
            </div>
          </div>
        </div>
        <div class="field col-sm-6">
          <div class="order_status_wrap">
            <div class="enquiry_status_cont">
              <h2>{{ details.update_status === '' ? 'Order forwarded to artisan' : details.update_status }} </h2>
              <span>{{details.created_at2 | date: 'fullDate'}} at {{details.created_at2 | date: 'shortTime'}}</span>
            </div>
            <div class="stap_form_wrap">
              <form class="msform">
                <ul class="progressbar">
                  <li
                    [ngClass]="{
                      'active':
                        details.update_status === '' ||
                        details.update_status === 'Order forwarded to artisan' ||
                        
                        details.update_status === 'Order Confirmed' ||
                        details.update_status === 'Order Dispatch' ||
                        details.update_status === 'Order Delivered'
                    }"
                  ></li>
                  <!-- <li
                    [ngClass]="{
                      'active':
                        
                        details.update_status === 'Order Confirmed' ||
                        details.update_status === 'Order Dispatch' ||
                        details.update_status === 'Order Delivered'
                    }"
                  ></li> -->
                  <li
                    [ngClass]="{
                      'active':
                        details.update_status === 'Order Confirmed' ||
                        details.update_status === 'Order Dispatch' ||
                        details.update_status === 'Order Delivered'
                    }"
                  ></li>
                  <li
                    [ngClass]="{
                      'active':
                        details.update_status === 'Order Dispatch' ||
                        details.update_status === 'Order Delivered'
                    }"
                  ></li>
                  <li
                    [ngClass]="{
                      'active':
                        details.update_status === 'Order Delivered'
                    }"
                  ></li>
                </ul>
              </form>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
